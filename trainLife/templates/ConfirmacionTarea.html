<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Modal de Confirmaci√≥n - TrainLife</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    {% load static %}
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'styles/confirmModal.css' %}">
    <link rel="stylesheet" href="{% static 'styles/ConfirmacionTarea.css' %}">
    <link rel="stylesheet" href="{% static 'styles/color-modes.css' %}">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body data-color-mode="{{ color_mode|default:'normal' }}">
    <div class="demo-container" role="main" aria-labelledby="demo-title">
        <h1 class="demo-title" id="demo-title">Modal de Confirmaci√≥n - Demo</h1>
        <p class="demo-subtitle">
            Ejemplos de modales de confirmaci√≥n con diferentes tipos y configuraciones.
        </p>
        
        <!-- Modal de Peligro -->
        <div class="demo-section">
            <h2>Modal de Peligro (Danger)</h2>
            <p style="color: #666; margin-bottom: 1rem;">
                Utiliza este tipo para acciones destructivas como eliminar o cancelar.
            </p>
            <div class="demo-buttons">
                <button class="demo-btn demo-btn-danger" onclick="showDangerModal()" aria-label="Mostrar modal para eliminar ruta">
                    Eliminar Ruta
                </button>
                <button class="demo-btn demo-btn-danger" onclick="showDeleteAccountModal()" aria-label="Mostrar modal para eliminar cuenta">
                    Eliminar Cuenta
                </button>
            </div>
            <div class="demo-code">
window.showConfirmModal({
    title: '¬øEliminar ruta?',
    message: '¬øEst√°s seguro de que deseas eliminar esta ruta?',
    confirmText: 'Eliminar',
    cancelText: 'Cancelar',
    type: 'danger',
    onConfirm: () => console.log('Eliminado')
});
            </div>
        </div>
        
        <!-- Modal de Advertencia -->
        <div class="demo-section">
            <h2>Modal de Advertencia (Warning)</h2>
            <p style="color: #666; margin-bottom: 1rem;">
                Utiliza este tipo para acciones que requieren atenci√≥n especial.
            </p>
            <div class="demo-buttons">
                <button class="demo-btn demo-btn-warning" onclick="showWarningModal()" aria-label="Mostrar modal para cambiar configuraci√≥n">
                    Cambiar Configuraci√≥n
                </button>
                <button class="demo-btn demo-btn-warning" onclick="showCancelTripModal()" aria-label="Mostrar modal para cancelar viaje">
                    Cancelar Viaje
                </button>
            </div>
            <div class="demo-code">
window.showConfirmModal({
    title: '¬øCambiar configuraci√≥n?',
    message: 'Cambiar esta configuraci√≥n afectar√° tus preferencias.',
    confirmText: 'Continuar',
    cancelText: 'Cancelar',
    type: 'warning',
    onConfirm: () => console.log('Cambiado')
});
            </div>
        </div>
        
        <!-- Modal de Informaci√≥n -->
        <div class="demo-section">
            <h2>Modal de Informaci√≥n (Info)</h2>
            <p style="color: #666; margin-bottom: 1rem;">
                Utiliza este tipo para confirmaciones generales y acciones informativas.
            </p>
            <div class="demo-buttons">
                <button class="demo-btn demo-btn-info" onclick="showInfoModal()" aria-label="Mostrar modal para guardar cambios">
                    Guardar Cambios
                </button>
                <button class="demo-btn demo-btn-info" onclick="showComprarBilleteModal()" aria-label="Mostrar modal para comprar viaje">
                    Comprar Viaje
                </button>
            </div>
            <div class="demo-code">
window.showConfirmModal({
    title: '¬øGuardar cambios?',
    message: '¬øDeseas guardar los cambios realizados?',
    confirmText: 'Guardar',
    cancelText: 'Cancelar',
    type: 'info',
    onConfirm: () => console.log('Guardado')
});
            </div>
        </div>
        
        <!-- Ejemplo con Promise -->
        <div class="demo-section">
            <h2>Uso con Async/Await</h2>
            <p style="color: #666; margin-bottom: 1rem;">
                El modal puede usarse con Promises y async/await.
            </p>
            <div class="demo-buttons">
                <button class="demo-btn demo-btn-info" onclick="showAsyncModal()">
                    Confirmar con Async
                </button>
            </div>
            <div class="demo-code">
async function confirmarAccion() {
    const confirmed = await showConfirmModal({
        title: 'Confirmar',
        message: '¬øContinuar?',
        type: 'info'
    });
    
    if (confirmed) {
        console.log('Usuario confirm√≥');
    } else {
        console.log('Usuario cancel√≥');
    }
}
            </div>
        </div>
        
        <div style="margin-top: 2rem; padding: 1rem; background: #eff6ff; border: 1px solid #2563eb; border-radius: 0.5rem;">
            <strong style="color: #2563eb;">üí° Nota:</strong>
            <p style="margin: 0.5rem 0 0 0; color: #1e40af; font-size: 0.875rem;">
                Los modales se cierran autom√°ticamente al hacer clic fuera del contenido, presionar Escape, o hacer clic en los botones.
            </p>
        </div>
    </div>

    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="{% static 'js/confirmModal.js' %}"></script>
    
    <script>
        // Inicializar iconos de Lucide
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
        });
        
        // Ejemplos de modales
        function showDangerModal() {
            window.showConfirmModal({
                title: '¬øEliminar ruta?',
                message: '¬øEst√°s seguro de que deseas eliminar "Madrid ‚Üí Barcelona" de tus rutas guardadas? Esta acci√≥n no se puede deshacer.',
                confirmText: 'Eliminar',
                cancelText: 'Cancelar',
                type: 'danger',
                onConfirm: () => {
                    console.log('‚úì Ruta eliminada');
                    alert('‚úì Ruta eliminada correctamente');
                },
                onCancel: () => {
                    console.log('‚úó Eliminaci√≥n cancelada');
                }
            });
        }
        
        function showDeleteAccountModal() {
            window.showConfirmModal({
                title: '‚ö†Ô∏è Eliminar cuenta',
                message: 'Esta acci√≥n es permanente. Se eliminar√°n todos tus datos, viajes guardados y preferencias. ¬øEst√°s completamente seguro?',
                confirmText: 'S√≠, eliminar mi cuenta',
                cancelText: 'No, mantener mi cuenta',
                type: 'danger',
                onConfirm: () => {
                    console.log('‚úì Cuenta eliminada');
                    alert('‚úì Cuenta eliminada (simulaci√≥n)');
                }
            });
        }
        
        function showWarningModal() {
            window.showConfirmModal({
                title: '¬øCambiar configuraci√≥n?',
                message: 'Al cambiar esta configuraci√≥n, tus preferencias de notificaci√≥n se restablecer√°n a los valores predeterminados.',
                confirmText: 'Continuar',
                cancelText: 'Cancelar',
                type: 'warning',
                onConfirm: () => {
                    console.log('‚úì Configuraci√≥n cambiada');
                    alert('‚úì Configuraci√≥n actualizada');
                }
            });
        }
        
        function showCancelTripModal() {
            window.showConfirmModal({
                title: 'Cancelar viaje',
                message: '¬øDeseas cancelar tu viaje a Barcelona? Se aplicar√° una tarifa de cancelaci√≥n del 10%.',
                confirmText: 'S√≠, cancelar viaje',
                cancelText: 'No, mantener viaje',
                type: 'warning',
                onConfirm: () => {
                    console.log('‚úì Viaje cancelado');
                    alert('‚úì Viaje cancelado correctamente');
                }
            });
        }
        
        function showInfoModal() {
            window.showConfirmModal({
                title: '¬øGuardar cambios?',
                message: '¬øEst√°s seguro de que deseas guardar los cambios realizados en tu informaci√≥n personal y configuraci√≥n de notificaciones?',
                confirmText: 'Guardar',
                cancelText: 'Cancelar',
                type: 'info',
                onConfirm: () => {
                    console.log('‚úì Cambios guardados');
                    alert('‚úì Cambios guardados exitosamente');
                }
            });
        }
        
        function showComprarBilleteModal() {
            window.showConfirmModal({
                title: 'Confirmar compra',
                message: '¬øDeseas comprar un billete para el tren AVE Madrid ‚Üí Barcelona el 20 de noviembre a las 09:00? Precio: ‚Ç¨47.00',
                confirmText: 'Comprar',
                cancelText: 'Cancelar',
                type: 'info',
                onConfirm: () => {
                    console.log('‚úì Billete comprado');
                    alert('‚úì Billete comprado exitosamente');
                }
            });
        }
        
        async function showAsyncModal() {
            const confirmed = await window.showConfirmModal({
                title: 'Confirmaci√≥n async',
                message: 'Este modal usa Promises. ¬øDeseas continuar?',
                confirmText: 'Continuar',
                cancelText: 'Cancelar',
                type: 'info'
            });
            
            if (confirmed) {
                console.log('‚úì Usuario confirm√≥ (async)');
                alert('‚úì Usuario confirm√≥ la acci√≥n');
            } else {
                console.log('‚úó Usuario cancel√≥ (async)');
                alert('‚úó Usuario cancel√≥ la acci√≥n');
            }
        }
    </script>
</body>
</html>
